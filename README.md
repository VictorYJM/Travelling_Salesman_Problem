# Travelling Salesman Problem  
A comparison system to calculate the optimal delivery route for a salesman using Simulated Annealing and BRKGA.

## Group  
* [Benneth Urich Ramos Damasio](https://github.com/BennethUrich)  
* [Leonardo Ribeiro Gonzaga de Lima](https://github.com/cc23579)  
* [Victor Yuji Mimura](https://github.com/VictorYJM)  

## Description  
The Pickup and Delivery Traveling Salesman Problem (PDTSP) is an extension of the classic TSP that introduces a more complex logistical dynamic: each task involves two distinct points—a pickup location and a delivery destination. The salesman must start from a depot and fulfill a set of requests where items need to be collected at specific locations and delivered to particular destinations.

A key characteristic of this problem is the precedence constraint, meaning no item can be delivered before it is picked up. Each point on the map is visited exactly once as a pickup location and once as a delivery location.

The main objective is to compare two metaheuristics by analyzing Time-To-Target (TTT) graphs, aiming to find the best possible solution considering the time required to reach it.

## Algorithms used  
* **BRKGA (Biased Random Key Genetic Algorithm):**  
  - A genetic algorithm that represents solutions as vectors of real numbers between 0 and 1 (random keys).  
  - Each vector is decoded into a valid route, ensuring pickups occur before deliveries.  
  - The population consists of:  
    - *Elite* — the best solutions preserved across generations  
    - *Mutants* — entirely new random solutions to maintain diversity  
    - *Offspring* — generated by crossover between elite and non-elite individuals, inheriting genes partially  
  - The evolutionary process continues for several generations, aiming to minimize the total route cost.

* **Simulated Annealing (SA):**  
  - An optimization method inspired by the thermal annealing process, which controls temperature to escape local minima.  
  - Starts with a random valid solution, respecting that pickups must precede deliveries.  
  - In each iteration, generates a neighboring solution by randomly swapping two cities in the route.  
  - Worse solutions may be accepted with a probability depending on the current temperature—helping avoid being trapped in suboptimal solutions.  
  - The temperature gradually decreases until reaching a minimum threshold, making the search stricter over time.  
  - The algorithm terminates after a maximum number of cycles or when the temperature hits the minimum, returning the best solution found.

## Results  
## Results  

| Instance (n) | Target (best solution * factor) | Time to target solution - SA | Time to target solution - BRKGA |
|--------------|---------------------------------|-------------------------------|---------------------------------|
| n105         | 6019 * 1.7 = 10232              | ~1 s (100% of runs)          | 6–14 s (100% of runs)           |
| n171         | 10203 * 2.1 = 21426             | ~1 s (100% of runs)          | 40–60 s (100% of runs)          |
| n213         | 7314 * 2.3 = 16822              | ~1 s (100% of runs)          | 35–60 s (100% of runs)          |
| n289         | 14447 * 2.6 = 37562             | ~1 s (100% of runs)          | 220–300 s (100% of runs)        |

### Analysis and Conclusion  

- **Simulated Annealing (SA)** consistently finds the target solution **almost immediately (~1s)** across all instances.  
- **BRKGA** also reaches the target in all runs, but with a **significantly higher convergence time**, which increases as the instance size grows.  
- These results indicate that **SA is more time-efficient** for reaching the target solution under the tested conditions, while BRKGA requires more computational effort to achieve similar success.  
